name: Windows Server Má»›i Nháº¥t Beta 0.1
run-name: ChÃ o má»«ng ${{ github.actor }} Ä‘áº¿n vá»›i Rinne VPS ğŸš€
on:
  workflow_dispatch:
    inputs:
      os:
        description: 'Nháº­p mÃ£ Windows (Powershell) tá»« Chrome Remote Desktop'
        required: true
      pin:
        description: 'Nháº­p PIN cho Chrome Remote Desktop (6 sá»‘ trá»Ÿ lÃªn) '
        required: true
      os3:
        description: 'Nháº­p mÃ£ token Ngrok (tuá»³ chá»n)'
        required: false
      us:

        description: 'Nháº­p tÃªn ngÆ°á»i dÃ¹ng'

        required: true

      os2:
        description: 'Nháº­p máº­t kháº©u'

        required: true

      
jobs:
  Windows_Server_2022:
    timeout-minutes: 360
    runs-on: windows-latest
    name: Äang cháº¡y
    steps:
    - name: Táº£i code cáº¥u hÃ¬nh...
      uses: actions/checkout@v3
      timeout-minutes: 360
    - name: Táº¡o tÃ i khoáº£n
      run: |
            powershell.exe -File 1.ps1 > $null
            net.exe user $env:UserName ${{ github.event.inputs.os2 }} > $null
            net user installer ${{ github.event.inputs.os2 }} > $null
      timeout-minutes: 360
    - name: Cháº¡y Chrome Remote Desktop & Ngrok
      run: |
            choco install ngrok > $null
            ngrok config add-authtoken ${{ github.event.inputs.os3 }} > $null
            powershell.exe -File c.ps1 > $null
            ${{ github.event.inputs.os }} --pin=${{ github.event.inputs.pin }} > $null
    - name: Cháº¡y Ngrok (Náº¿u báº¡n Ä‘Ã£ nháº­p token)
      shell: bash
      run: bash 3389.sh
      timeout-minutes: 360
    - name: Setup cho Windows Má»›i Nháº¥t Fansub Edition
      run: |
         write-host ThÃ´ng tin há»‡ Ä‘iá»u hÃ nh:
         write-host Windows Server Data Center Github 2022
         write-host Pháº§n phá»¥ trá»£ tuá»³ biáº¿n:
         write-host Rinne Audio vÃ  ngÆ°á»i dÃ¹ng tá»± tuá»³ biáº¿n
         write-host PhiÃªn báº£n tuá»³ biáº¿n:
         write-host Beta1.0-4.5.2023.datacenter.filbertmatthew
         choco install aegisub > $null
         write-host ÄÃ£ thiáº¿t láº­p Aegisub
         choco install handbrake > $null
         write-host Äang thiáº¿t láº­p pháº§n má»m encode > $null
         choco install formatfactory > $null
         write-host ÄÃ£ xong!
         choco install transmission > $null
         write-host Thiáº¿t láº­p cÃ i Ä‘áº·t cho Torrent Ä‘Ã£ xong!
         write-host ÄÃ£ xong!
         write-host Äang cÃ i Ä‘áº·t á»©ng dá»¥ng ngÆ°á»i dÃ¹ng tuá»³ chá»n
      
         powershell.exe -File pgnguoidung.ps1 > $null
      timeout-minutes: 360
    - name: Sau Ä‘Ã¢y lÃ  máº­t kháº©u vÃ  username & IP NGROK
      run: |
            write-host IP LÃ€:
            curl -s localhost:4040/api/tunnels | jq -r .tunnels[0].public_url || echo "Lá»—i token"
            write-host Password: ${{ github.event.inputs.os2 }}
            write-host Username: $env:UserName
            write-host Username: installer
            write-host Password: ${{ github.event.inputs.os2 }}
      timeout-minutes: 360
    - name: Cháº¡y thÃ nh cÃ´ng VPS, HÃ£y vÃ o Chrome Remote Desktop Ä‘á»ƒ truy cáº­p
      run: |
            powershell.exe -File 3.ps1
      timeout-minutes: 360
    - name: ÄÃ£ xong! ChÃºc báº¡n vui váº»
      shell: bash
      run: |
         yes &>/dev/null
      timeout-minutes: 360
